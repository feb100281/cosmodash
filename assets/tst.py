import pandas as pd
import matplotlib.pyplot as plt

# Данные накопленного CAPEX и нормализованного MAP
data = {
    "CAPEX": [0.00,0.01,0.04,0.06,0.07,0.08,0.10,0.11,0.12,0.13,0.14,0.15,0.15,0.16,0.17,0.22,0.24,0.25,0.28,0.29,
              0.31,0.34,0.35,0.37,0.38,0.39,0.43,0.45,0.52,0.56,0.61,0.66,0.68,0.71,0.74,0.78,0.80,0.81,0.83,0.86,
              0.88,0.91,0.97,1.00],
    "MAP": [1.00,1.00,1.00,1.04,1.06,1.07,1.07,1.07,1.07,1.08,1.07,1.08,1.09,1.09,1.10,1.11,1.12,1.14,1.49,1.50,
            1.51,1.51,1.50,1.53,1.57,1.57,1.58,1.61,1.62,1.63,1.64,1.64,1.66,1.68,1.74,1.76,1.82,1.83,1.83,1.86,
            1.86,1.92,1.94,2.06]
}

df = pd.DataFrame(data)

# Построение графика
plt.figure(figsize=(10,6))
plt.plot(df["CAPEX"], df["MAP"], marker='o', label='Рост MAP')
plt.axvline(x=0.25, color='red', linestyle='--', label='Приход Мануфактуры')
plt.text(0.26, 1.05, 'Приход Мануфактуры', color='red', fontsize=10, verticalalignment='bottom')
plt.title("Эффект CAPEX на рост MAP")
plt.xlabel("Накопленный CAPEX (ед. от бюджета)")
plt.ylabel("Относительный MAP")
plt.grid(True, linestyle='--', alpha=0.5)
plt.legend()
plt.tight_layout()
plt.show()